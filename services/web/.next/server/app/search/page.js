(()=>{var e={};e.id=959,e.ids=[959],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},60399:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=s(70260),n=s(28203),a=s(25155),i=s.n(a),o=s(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let d=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,22524)),"/Users/rainsfall/Downloads/search-engine/services/web/src/app/search/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"/Users/rainsfall/Downloads/search-engine/services/web/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,75076)),"/Users/rainsfall/Downloads/search-engine/services/web/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,75181)),"/Users/rainsfall/Downloads/search-engine/services/web/src/app/not-found.tsx"]}],c=["/Users/rainsfall/Downloads/search-engine/services/web/src/app/search/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},77892:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,13219,23)),Promise.resolve().then(s.t.bind(s,34863,23)),Promise.resolve().then(s.t.bind(s,25155,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,96313,23)),Promise.resolve().then(s.t.bind(s,48530,23)),Promise.resolve().then(s.t.bind(s,88921,23))},1860:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,66959,23)),Promise.resolve().then(s.t.bind(s,33875,23)),Promise.resolve().then(s.t.bind(s,88903,23)),Promise.resolve().then(s.t.bind(s,84178,23)),Promise.resolve().then(s.t.bind(s,86013,23)),Promise.resolve().then(s.t.bind(s,87190,23)),Promise.resolve().then(s.t.bind(s,61365,23))},64340:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,71066,23)),Promise.resolve().then(s.t.bind(s,75197,23))},66548:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,41902,23)),Promise.resolve().then(s.t.bind(s,87801,23))},55863:(e,r,s)=>{Promise.resolve().then(s.bind(s,52551))},44239:(e,r,s)=>{Promise.resolve().then(s.bind(s,37339))},33051:(e,r,s)=>{Promise.resolve().then(s.bind(s,75076))},43667:(e,r,s)=>{Promise.resolve().then(s.bind(s,87576))},78881:(e,r,s)=>{Promise.resolve().then(s.bind(s,22524))},8385:(e,r,s)=>{Promise.resolve().then(s.bind(s,67881))},32848:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(41680).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},92411:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(41680).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},87576:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>d});var t=s(45512),n=s(45103),a=s(26008),i=s(92557),o=s(16873),l=s(39400);function d({error:e,reset:r}){return(0,t.jsx)("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"text-center space-y-8 max-w-md",children:[(0,t.jsx)("div",{className:"relative w-64 h-64 mx-auto",children:(0,t.jsx)(n.default,{src:"/images/mascot.jpg",alt:"Sonoma Turtle",fill:!0,className:"rounded-full shadow-lg object-cover",priority:!0})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-foreground",children:"Oops!"}),(0,t.jsx)("p",{className:"text-xl text-muted-foreground",children:"Something went wrong"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.message||"Don't worry, we'll fix it!"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,t.jsxs)(l.$,{onClick:r,variant:"outline",size:"lg",className:"flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),"Try Again"]}),(0,t.jsx)(l.$,{asChild:!0,size:"lg",children:(0,t.jsxs)(a.default,{href:"/",className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),"Back to Search"]})})]})]})})}},67881:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>w});var t=s(45512),n=s(58009),a=s(16873),i=s(92411),o=s(32848);let l=(0,s(41680).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var d=s(26008),c=s(58686),u=s(39400),m=s(77722),h=s(37339),f=s(32101),p=s(44195);let x=(0,f.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),v=n.forwardRef(({className:e,variant:r,...s},n)=>(0,t.jsx)("div",{ref:n,role:"alert",className:(0,p.cn)(x({variant:r}),e),...s}));v.displayName="Alert";let g=n.forwardRef(({className:e,...r},s)=>(0,t.jsx)("h5",{ref:s,className:(0,p.cn)("mb-1 font-medium leading-none tracking-tight",e),...r}));g.displayName="AlertTitle";let b=n.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,p.cn)("text-sm [&_p]:leading-relaxed",e),...r}));function y({className:e,...r}){return(0,t.jsx)("div",{className:(0,p.cn)("animate-pulse rounded-md bg-muted",e),...r})}function j(){let{theme:e,toggleTheme:r}=(0,h.D)(),s=(0,c.useRouter)(),f=(0,c.useSearchParams)(),[p,x]=n.useState(f.get("q")||""),[j,w]=n.useState([]),[N,k]=n.useState(0),[P,C]=n.useState(!1),[A,_]=n.useState(null),[S,T]=n.useState(0),D=n.useCallback(async e=>{if(!e.trim()){w([]),k(0);return}C(!0),_(null);try{let r=await fetch(`/api/search?q=${encodeURIComponent(e)}`);if(!r.ok)throw Error("Search request failed");let t=await r.json();w(t.results),k(t.total),T(t.took),s.push(`/search?q=${encodeURIComponent(e)}`)}catch(e){_("Search failed. Please try again later."),w([]),k(0)}finally{C(!1)}},[s]);return n.useEffect(()=>{let e=f.get("q");e&&D(e)},[f,D]),(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsxs)("div",{className:"container flex h-14 items-center",children:[(0,t.jsx)("div",{className:"mr-4 hidden md:flex",children:(0,t.jsx)(d.default,{href:"/",className:"mr-6 flex items-center space-x-2",children:(0,t.jsx)("span",{className:"hidden font-bold sm:inline-block",children:"Search Engine"})})}),(0,t.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,t.jsxs)("form",{className:"flex-1 flex items-center space-x-2",onSubmit:e=>{e.preventDefault(),D(p)},children:[(0,t.jsx)(m.p,{type:"search",placeholder:"Search...",className:"flex-1",value:p,onChange:e=>x(e.target.value)}),(0,t.jsx)(u.$,{type:"submit",disabled:P,children:P?(0,t.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):(0,t.jsx)(a.A,{className:"h-4 w-4"})})]}),(0,t.jsx)(u.$,{variant:"ghost",size:"icon",onClick:()=>r(),children:"light"===e?(0,t.jsx)(i.A,{className:"h-4 w-4"}):(0,t.jsx)(o.A,{className:"h-4 w-4"})})]})]})}),(0,t.jsxs)("main",{className:"container py-6",children:[A&&(0,t.jsxs)(v,{variant:"destructive",className:"mb-6",children:[(0,t.jsx)(l,{className:"h-4 w-4"}),(0,t.jsx)(g,{children:"Error"}),(0,t.jsx)(b,{children:A})]}),P?(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,r)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(y,{className:"h-4 w-[250px]"}),(0,t.jsx)(y,{className:"h-4 w-[450px]"}),(0,t.jsx)(y,{className:"h-3 w-[200px]"})]},r))}):j.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["About ",N.toLocaleString()," results (",(S/1e3).toFixed(2)," seconds)"]}),(0,t.jsx)("div",{className:"space-y-6",children:j.map((e,r)=>(0,t.jsxs)("article",{className:"space-y-1",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold leading-snug",children:(0,t.jsx)("a",{href:e.url,className:"hover:underline",target:"_blank",rel:"noopener noreferrer",dangerouslySetInnerHTML:{__html:e.title}})}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.siteName," \xb7 ",e.timestamp]}),(0,t.jsx)("p",{className:"text-sm text-foreground/90",dangerouslySetInnerHTML:{__html:e.description}})]},r))})]}):p&&!P&&(0,t.jsxs)("p",{className:"text-center text-muted-foreground py-8",children:['No results found for "',p,'"']})]})]})}function w(){return(0,t.jsx)(n.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(j,{})})}b.displayName="AlertDescription"},37339:(e,r,s)=>{"use strict";s.d(r,{D:()=>o,ThemeProvider:()=>i});var t=s(45512),n=s(58009);let a=n.createContext({theme:"light",toggleTheme:()=>{}});function i({children:e}){let[r,s]=n.useState("light");return(0,t.jsx)(a.Provider,{value:{theme:r,toggleTheme:()=>{s("light"===r?"dark":"light"),document.documentElement.classList.toggle("dark")}},children:e})}let o=()=>n.useContext(a)},39400:(e,r,s)=>{"use strict";s.d(r,{$:()=>d});var t=s(45512),n=s(58009),a=s(12705),i=s(32101),o=s(44195);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef(({className:e,variant:r,size:s,asChild:n=!1,...i},d)=>{let c=n?a.DX:"button";return(0,t.jsx)(c,{className:(0,o.cn)(l({variant:r,size:s,className:e})),ref:d,...i})});d.displayName="Button"},77722:(e,r,s)=>{"use strict";s.d(r,{p:()=>i});var t=s(45512),n=s(58009),a=s(44195);let i=n.forwardRef(({className:e,type:r,...s},n)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));i.displayName="Input"},44195:(e,r,s)=>{"use strict";s.d(r,{cn:()=>a});var t=s(82281),n=s(94805);function a(...e){return(0,n.QP)((0,t.$)(e))}},75076:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/rainsfall/Downloads/search-engine/services/web/src/app/error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rainsfall/Downloads/search-engine/services/web/src/app/error.tsx","default")},71354:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l,metadata:()=>o});var t=s(62740),n=s(31001),a=s.n(n);s(61135);var i=s(52551);let o={title:"Sonoma Search",description:"A modern search engine"};function l({children:e}){return(0,t.jsx)("html",{lang:"en",suppressHydrationWarning:!0,children:(0,t.jsx)("body",{className:a().className,suppressHydrationWarning:!0,children:(0,t.jsx)(i.ThemeProvider,{children:e})})})}},75181:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var t=s(62740),n=s(35635),a=s(20308),i=s(60171),o=s(76301),l=s(15225),d=s(13609),c=s(13673),u=s(47317);let m=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=o.forwardRef(({className:e,variant:r,size:s,asChild:n=!1,...a},i)=>{let o=n?l.DX:"button";return(0,t.jsx)(o,{className:function(...e){return(0,u.QP)((0,c.$)(e))}(m({variant:r,size:s,className:e})),ref:i,...a})});function f(){return(0,t.jsx)("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"text-center space-y-8 max-w-md",children:[(0,t.jsx)("div",{className:"relative w-64 h-64 mx-auto",children:(0,t.jsx)(n.default,{src:"/images/mascot.jpg",alt:"Sonoma Turtle",fill:!0,className:"object-contain",priority:!0})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-foreground",children:"Oops!"}),(0,t.jsx)("p",{className:"text-xl text-muted-foreground",children:"Looks like this page took a swim in the wrong direction"})]}),(0,t.jsx)(h,{asChild:!0,size:"lg",children:(0,t.jsxs)(a.default,{href:"/",className:"flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),"Back to Search"]})})]})})}h.displayName="Button"},22524:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/rainsfall/Downloads/search-engine/services/web/src/app/search/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rainsfall/Downloads/search-engine/services/web/src/app/search/page.tsx","default")},52551:(e,r,s)=>{"use strict";s.d(r,{ThemeProvider:()=>n});var t=s(46760);let n=(0,t.registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rainsfall/Downloads/search-engine/services/web/src/components/theme/ThemeProvider.tsx","ThemeProvider");(0,t.registerClientReference)(function(){throw Error("Attempted to call useTheme() from the server but useTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/rainsfall/Downloads/search-engine/services/web/src/components/theme/ThemeProvider.tsx","useTheme")},61135:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[989,928],()=>s(60399));module.exports=t})();